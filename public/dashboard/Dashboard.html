<!DOCTYPE html>
<html lang="pt">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="shortcut icon" href="../assets/img/iconLogo.ico" type="image/x-icon" />
  <title>DashBoard - ISee</title>
  <link rel="stylesheet" href="../css/dashboard.css" />
  <link rel="stylesheet" href="../css/navBar.css" />
</head>

<body onload="exibirQtdTotalRam()">

  <div class="body_dashboard">


    <div class="sessao_grafico_principal">
      <div class="container_title">
        <h1>Dashboard</h1>
        <h6>Bom dia <span style="color: #7d2de2;">Yuri</span>, Hoje a eficiência global é de <span
            style="color: #7d2de2;">100%</span></h6>
        <div class="notificacoes">
          <img src="../assets/img/alert.svg">
          <img src="../assets/img/user.svg">
        </div>
      </div>

      <div class="canvas_grafic_bar">
        <canvas id="myBarChart"  width="466px" height="290px">

        </canvas>
      </div>
    </div>




    <div class="sessao_filtros">

      <div class="head_filtros">

        <div class="selecao_filtro">
          <h2>Filtro</h2>
          <button>RAM</button>
          <button>CPU</button>
          <button>Memória</button>
        </div>

        <div class="selecao_maquina">
          <button>Caixa 1</button>
          <button>Caixa 2</button>
          <button>Caixa 3</button>
          <button>Caixa 4</button>
          <button>Caixa 5</button>
          <button>Caixa 6</button>
        </div>
      </div>



      <div class="container_cards">

        <div class="card">
          <h4 id="titulo_card1">Quantidade de RAM Restante </h4> <!--AQUI FICA O TITULO DO PRIMEIRO CARD -->
          <h2> 25 GB </h2>
        </div>

        <div class="card">
          <h4 id="titulo_card2">Quantidade de RAM TOTAL </h4> <!--AQUI FICA O TITULO DO SEGUNDO CARD -->
          <h2> <span id="quantidadeTotalRam">0</span> GB </h2>
        </div>
      </div>

      <div class="canvas_grafic_rosca_container">
        <div class="grafic_rosca">
          <canvas id="pieChart"></canvas>
        </div>

        <div class="grafic_rosca_infos">
          <div class="titulo_grafico_rosca">
            <h4>Uso diário de RAM</h4>
          </div>
          <div id="cardCaixas">

            <div>
              <div style="background-color: #7d2de2;"></div>
              <p>Caixa 1</p>
            </div>

            <div>
              <div style="background-color:#2DE23F;"></div>
              <p>Caixa 2</p>
            </div>

            <div>
              <div style="background-color:#2DB7E2;"></div>
              <p>Caixa 3</p>
            </div>

            <div>
              <div style="background-color:#E22D63;"></div>
              <p>Caixa 4</p>
            </div>

          </div>
        </div>

      </div>

    </div>


  </div>



  <!--NavBar-->
  <div class="container_navbar">
    <div class="navbar_bottom">
      <div class="btn_home" onclick="tela_home()">
        <img onclick="window.location.href='./homeFuncionario.html'" src="../assets/img/home_icon.svg" />
        <h2>Home</h2>
      </div>

      <div class="btn_etiqueta" onclick="window.location.href='../dashboard/etiquetas.html'">
        <img src="../assets/img/etiqueta_icon.svg" />
        <h2>Etiquetas</h2>
      </div>

      <div class="btn_historico" onclick="window.location.href='../dashboard/historico.html'">
        <img src="../assets/img/historico_icon.svg" />
        <h2>Histórico</h2>
      </div>

      <div class="btn_dashboard">
        <img src="../assets/img/dashboard_icon.svg" />
        <h2 style="color: #7d2de2;">Dashboard</h2>
      </div>

      <div class="btn_alerta" onclick="window.location.href='../dashboard/alertas.html'">
        <img src="../assets/img/alertas_icon.png" />
        <h2>Alertas</h2>
      </div>

      <div class="btn_perfil">
        <img onclick="window.location.href='../meuPerfil.html'" src="../assets/img/userNavbar.svg" />
        <h2>Perfil</h2>
      </div>

      <div class="btn_sair">
        <img onclick="sair()" src="../assets/img/sair_icon.png" />
        <h2>Sair</h2>
      </div>
    </div>
  </div>
</body>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="../js/graficosDashboard.js"></script>

<link rel="stylesheet" href="../css/dashboard.css" />


<script>

function tela_home() {
    if (sessionStorage.cargoUsuario === "Gerente") {
      window.location = "homeGestor.html";
    } else {
      window.location = "homeFuncionario.html";
    }
  }

  function sair() {
        sessionStorage.clear();
        window.location.href = "../login.html";
    }

    function exibirQtdTotalRam() {

      fetch(`/usuarios/exibirQuantidadeTotalRam`, {
        method: "GET",
        headers: {
          "Content-Type": "application/json"
        }
      }).then((resposta) => {
        // saldoConta
        resposta.json().then((data) => {
          console.log(data);
          qtdTotalDeRam = data[0].totalRam;
          console.log(qtdTotalDeRam);
          quantidadeTotalRam.innerHTML = qtdTotalDeRam
        })

      }).catch(function (resposta) {
        console.log(`#ERRO: ${resposta}`);
        finalizarAguardar();
      });
      }


</script>